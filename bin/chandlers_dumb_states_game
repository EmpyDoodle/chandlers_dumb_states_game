#!/usr/bin/env ruby

$LOAD_PATH.unshift(File.expand_path('../lib', File.dirname(__FILE__)))
require 'cdsg'

region = String.new

loop do
  puts 'Please select a region from the list below:'
  (1..CDSG.regions.size).to_a.each { |i| puts(" #{i} | #{CDSG.regions[i - 1]}") }
  region = gets.chomp
  if region =~ /\d/
    region = CDSG.regions[region.to_i - 1]
    break if region
  else
    break if CDSG.regions.include?(region)
  end
end

puts 'Would you like to play in Capitals mode?'
gets.chomp =~ /\A[yY]\z/ ? capitals = true : capitals = false
game = CDSG.new(region, capitals, ARGV[0] == 'X' ? true : false)
game.play
